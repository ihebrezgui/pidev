{% extends 'base.html.twig'%}
{% block gestion %}
{% block body %}
<!-- <iframe width="560" height="315" src="https://www.youtube.com/embed/CiFoHm7HD94" frameborder="0" allowfullscreen></iframe> -->
<script src="https://www.youtube.com/iframe_api"></script>
                <div class="card mb-3">

<div id="player" ></div>
    </div>
            <div style="margin-bottom: 40px;"></div>


<script>
var player;
function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    height: '315',
    width: '560',
    videoId: 'CiFoHm7HD94', // Replace 'CiFoHm7HD94' with the actual video ID
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }
  });
}
function onPlayerReady(event) {
  // Execute an action when the player is ready
}
function onPlayerStateChange(event) {
  // Execute an action when the player's state changes
}
</script>


<div class="card">
  <div class="card-header">
    Liste des dons
  </div>
  <div class="card-body">
<div class="card">
    <div class="card-header">
        <h5 class="card-title">Givedonations</h5>
       <!-- Include jQuery library -->
       										<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

       										<!-- Your HTML code -->
       										<div class="search-box">
       											<input type="text" class="form-control" id="searchInput" placeholder="Search by Nom Cours...">
       										</div>
                </div>
            </div>
        </form>
    </div>
    <div class="card-body">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Id Donateur</th>
                    <th>Statut du Donateur</th>
                    <th>Montant</th>
                    <th>Date de Naissance</th>
                    <th>E-mail</th>
                    <th>Numéro de Téléphone</th>
                    <th>Profession</th>
                    <th>Méthode de Paiement</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="searchResults">
            {% for givedonation in givedonations %}
                <tr>
                    <td>{{ givedonation.iddonateur }}</td>
                    <td>{{ givedonation.statutDonateur }}</td>
                    <td>{{ givedonation.montant }}</td>
                    <td>{{ givedonation.dateDeNaissance ? givedonation.dateDeNaissance|date('Y-m-d') : '' }}</td>
                    <td>{{ givedonation.email }}</td>
                    <td>{{ givedonation.getNumeroDeTelephone }}</td>
                    <td>{{ givedonation.profession }}</td>
                    <td>{{ givedonation.getMethodePaiement }}</td>

                    <td class="givedonation-button" style="display: flex; gap: 10px; margin-top: 10px;">
                       <a href="{{ path('app_givedonation_show', {'iddonateur': givedonation.iddonateur}) }}" style="background-color: transparent; color: #2980B9; padding: 5px; border: none; border-radius: 5px; text-decoration: none; cursor: pointer;">
                          <i class="fas fa-eye"></i>
                       </a>
                       <a href="{{ path('app_givedonation_edit', {'iddonateur': givedonation.iddonateur}) }}" style="background-color: transparent; color: #FE9900; padding: 5px; border: none; border-radius: 5px; text-decoration: none; cursor: pointer;">
                          <i class="fas fa-edit"></i>
                       </a>
                       <form method="post" action="{{ path('app_givedonation_delete', {'iddonateur': givedonation.iddonateur}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ givedonation.iddonateur) }}">
                            <button type="submit" style="background-color: transparent; color: #D43727; padding: 5px; border: none; border-radius: 5px; text-decoration: none; cursor: pointer;">
                                <i class="fas fa-trash"></i>
                            </button>
                        </form>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="9">aucun enregistrement trouvé</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

    <a href="{{ path('app_givedonation_new') }}"
       style="background-color: #2980B9 ; color: white; padding: 5px; border: none;
              border-radius: 5px; text-decoration: none; cursor: pointer; border-radius:50px;
              display: inline-block; width: fit-content;" >Ajouter</a>
  </div>
</div>

<script>
$(document).ready(function () {
$('#searchInput').on('keyup', function (event) {
var searchText = $(this).val().trim();
if (searchText.length > 0) { // Allow searching for all lengths
$.ajax({
url: "{{ path('search_donations') }}",
type: "GET",
dataType: "json",
data: {
search: searchText
},
success: function (response) {
$('#example2 tbody').empty();
if (response.length > 0) {
$.each(response, function (index, course) {
$('#example2 tbody').append('<tr>' + '<td>' + givedonation.iddonateur + '</td>' + '<td>' + givedonation.montant + '</td>' +
// Add more fields as needed
'</tr>');
});
} else {
$('#example2 tbody').append('<tr><td colspan="6">No matching records found</td></tr>');
}
},
error: function (xhr, status, error) {
console.error(xhr.responseText);
}
});
} else {
// If search term is empty, show all courses
// You can modify this behavior as per your requirement
// Here, you can choose to do nothing or show a message to the user
// For simplicity, we are reloading the page to show all courses
location.reload();
}
});
})
</script>
<head>

<style>
  /* Responsive card styles */
  .card {
    width: auto; /* Allow card to adjust width based on content */
    max-width: 1500px; /* Set a maximum width */
    margin: 0 auto; /* Center the card horizontally */
    border-radius: 10px; /* Rounded corners */
    background-color: #f5f5f5; /* Light gray background */
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2); /* Subtle shadow */
    padding: 20px; /* Add some padding inside the card */
  }

  /* Zoom effect (optional) */
  .card:hover {
    transform: scale(1.02); /* Slight zoom on hover */
    transition: transform 0.2s ease-in-out; /* Smooth transition */
  }
  table {
      width: 100%; /* Make the table fill the card container */
      border-collapse: collapse; /* Collapse table borders */
    }

    th, td {
      padding: 10px; /* Add padding to table cells */
      border: 1px solid #ddd; /* Add a thin border to table cells */
      text-align: left; /* Left-align table cell content */
    }

    th {
      background-color: #f2f2f2; /* Add a light gray background to table headers */
      font-weight: bold; /* Bold text for table headers */
    }

    tr:nth-child(even) {
      background-color: #f9f9f9; /* Add a lighter background color to even rows */
    }

    /* Add styling for the amount due column */
    .amount-due {
      text-align: right; /* Right-align the amount due column */
    }



.mb-3 {
  width: 572px;
      height: px;
      background: #8d79c7;
      border-radius: 15px;
      padding: 10px;
      color: white;
      display: list-item;
      flex-direction: column;
      box-shadow: inset 9px 5px 17px black;
      transition: all .2s ease-in;
  }
}

.mb-3::after {

  font-size: 1.4em;
  font-weight: 800;
  position: absolute;
  right: 50%;
  top: 50%;
  transform: translate(50%,-50%);
}

.up {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

.up .right {
  display: flex;
  gap: 20px;
}

.playbar {
  flex-grow: 1;
  display: flex;
  justify-content: center;
  align-items: end;
}

.bar {
  width: 340px;
  height: 8px;
  margin-bottom: 8px;
  background-color: rgba(170, 163, 163, 0.356);
}

.bar::after {
  content: "";
  width: 10px;
  height: 8px;
  position: absolute;
  background: rgb(167, 57, 57);
  animation: example 25s ease;
}

.down {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
}

.down__icons {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 20px;
}

.pause {
  width: 50px;
  height: 50px;
  fill: rgb(241, 239, 239);
}

.time {
  font-size: .85em;
}

.svg-icon {
  width: 30px;
  height: 30px;
  padding: 5px;
  border-radius: 50%;
  ;
  fill: rgb(241, 239, 239);
}

.mb-3 * {
  opacity: 0;
  transition: all .2s ease-in;
}

.mb-3:hover * {
  opacity: 1;
}

.mb-3:hover {
  box-shadow: inset 0px 10px 36px -13px rgba(0,0,0,0.75);
}

.svg-icon:hover {
  background-color: rgba(3, 5, 5, 0.5);
}

@keyframes example {
  0% {
    width: 0px;
  }

  100% {
    width: 330px;
  }
}

</style>
</head>
{% endblock %}
{% endblock %}
